# Kubernetes Service

    NodePort서비스는 모든 워커 노드의 특정 포트를 열고 여기로 오는 모든 요청을 노드포트 서비스로 전달한다. 그리고 노드포트 서비스는 해당 업무를 처리할 수 있는 파드로 요청을 전달한다.

    보통 nodeport.yaml 스펙으로 만들지만 expose명령어를 써서 만들수도 있다.

    expose를 사용할때는 노트포트번호를 지정할 수 없다. 보통 30000~32767중에 하나로 결정된다.


# 인그레스(Ingress)

    노드포트 서비스는 포트를 중복 사용할 수 없어서 1개의 노드포트에 1개의 디플로이먼트만 적용이 된다. 여러개의 디플로이먼트가 있을 때 그 수만큼 노드포트 서비스를 구동해야한다면 인그레스를 사용한다.

    인그레스는 고유한 주소를 제공해 사용 목적에 따라 다른 응답을 제공할 수 있고, 트래픽에 대해 L4/L7 로드밸런서와 보안 인증서를 처리하는 기능을 제공한다.

    인그레스를 사용하려면 인그레스 컨트롤러가 필요하다. 여기선 NGINX 인그레스 컨트롤러로 구성한다. 

    
    인그레스 컨트롤러를 yaml spec으로 실행하고, config파일을 통해 설정을 적용해주고, nodeport로 서비스를 띄워준다. 그리고 인그레스 컨트롤러 포트를 외부에 노출시킨다. 

# 클라우드 로드밸런서

    클라우드에서 제공하는 쿠버네티스를 사용하고 있으면 온프레미스 환경에서 로드밸런서를 사용할 수 있다. 


# 온프레미스에서 로드밸런서를 제공하는 MetalLB

    MetalLB는 특별한 네트워크 설정이나 구성이 있는것이 아니라 기존의 L2네트워크와 L3네트워크로 로드밸런서를 구현한다.

# 부하에 따라 자동으로 파드 수를 조절하는 HPA

    